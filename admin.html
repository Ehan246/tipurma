<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ItemSalesBD | Admin Control Panel</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --border: #cbd5e1;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 10px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: #f1f5f9;
            min-height: 100vh;
        }
        
        .bn {
            font-family: 'Noto Sans Bengali', sans-serif;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            border-radius: var(--radius);
            font-weight: 500;
            font-size: 0.95rem;
            cursor: pointer;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            text-align: center;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-success {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #0da271;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #dc2626;
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        
        /* Admin Layout */
        .admin-layout {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .admin-sidebar {
            width: 250px;
            background-color: var(--dark);
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow);
        }
        
        .admin-logo {
            padding: 0 20px 30px;
            border-bottom: 1px solid #374151;
            margin-bottom: 20px;
        }
        
        .admin-logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }
        
        .admin-logo-text span {
            color: var(--primary);
        }
        
        .admin-nav {
            list-style: none;
        }
        
        .admin-nav li {
            margin-bottom: 5px;
        }
        
        .admin-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            color: #d1d5db;
            text-decoration: none;
            transition: var(--transition);
            border-left: 4px solid transparent;
        }
        
        .admin-nav a:hover {
            background-color: #1f2937;
            color: white;
        }
        
        .admin-nav a.active {
            background-color: #1f2937;
            color: white;
            border-left-color: var(--primary);
        }
        
        .admin-nav i {
            width: 20px;
            text-align: center;
        }
        
        /* Main Content */
        .admin-main {
            flex: 1;
            padding: 30px;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background-color: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }
        
        .admin-title {
            font-size: 1.8rem;
            color: var(--dark);
        }
        
        .admin-user {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .admin-user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        /* Admin Sections */
        .admin-section {
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .section-title {
            font-size: 1.4rem;
            margin-bottom: 25px;
            color: var(--dark);
            padding-bottom: 15px;
            border-bottom: 2px solid var(--gray-light);
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }
        
        .stat-card.green {
            background: linear-gradient(135deg, var(--secondary), #0da271);
        }
        
        .stat-card.orange {
            background: linear-gradient(135deg, var(--accent), #f97316);
        }
        
        .stat-card.red {
            background: linear-gradient(135deg, var(--danger), #dc2626);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table thead {
            background-color: var(--gray-light);
        }
        
        .data-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 2px solid var(--border);
        }
        
        .data-table td {
            padding: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .data-table tbody tr:hover {
            background-color: #f8fafc;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .status-active {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .status-inactive {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        /* Image Preview */
        .image-preview {
            margin-top: 10px;
            text-align: center;
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: var(--radius);
            color: white;
            font-weight: 500;
            z-index: 3000;
            display: none;
            animation: slideIn 0.3s ease;
            box-shadow: var(--shadow-lg);
        }
        
        .notification.success {
            background-color: var(--secondary);
        }
        
        .notification.error {
            background-color: var(--danger);
        }
        
        .notification.info {
            background-color: var(--primary);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--gray);
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .admin-layout {
                flex-direction: column;
            }
            
            .admin-sidebar {
                width: 100%;
                padding: 0;
            }
            
            .admin-nav {
                display: flex;
                overflow-x: auto;
                padding: 10px;
            }
            
            .admin-nav li {
                flex-shrink: 0;
                margin-bottom: 0;
            }
            
            .admin-nav a {
                padding: 10px 15px;
                border-left: none;
                border-bottom: 3px solid transparent;
                white-space: nowrap;
            }
            
            .admin-nav a.active {
                border-bottom-color: var(--primary);
                border-left: none;
            }
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .admin-main {
                padding: 15px;
            }
            
            .admin-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>
    
    <!-- Admin Layout -->
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <div class="admin-logo-text">
                    Item<span>Sales</span>BD
                </div>
                <div class="bn" style="color: #9ca3af; margin-top: 5px; font-size: 0.9rem;">Admin Panel</div>
            </div>
            
            <ul class="admin-nav">
                <li>
                    <a href="#dashboard" class="active" data-section="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span class="bn">ড্যাশবোর্ড</span>
                    </a>
                </li>
                <li>
                    <a href="#website-settings" data-section="website-settings">
                        <i class="fas fa-cog"></i>
                        <span class="bn">ওয়েবসাইট সেটিংস</span>
                    </a>
                </li>
                <li>
                    <a href="#products" data-section="products">
                        <i class="fas fa-box"></i>
                        <span class="bn">পণ্য ব্যবস্থাপনা</span>
                    </a>
                </li>
                <li>
                    <a href="#categories" data-section="categories">
                        <i class="fas fa-tags"></i>
                        <span class="bn">ক্যাটেগরি</span>
                    </a>
                </li>
                <li>
                    <a href="#orders" data-section="orders">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="bn">অর্ডার ব্যবস্থাপনা</span>
                    </a>
                </li>
                <li>
                    <a href="#users" data-section="users">
                        <i class="fas fa-users"></i>
                        <span class="bn">গ্রাহক ব্যবস্থাপনা</span>
                    </a>
                </li>
                <li>
                    <a href="#analytics" data-section="analytics">
                        <i class="fas fa-chart-bar"></i>
                        <span class="bn">অ্যানালিটিক্স</span>
                    </a>
                </li>
                <li>
                    <a href="#social" data-section="social">
                        <i class="fas fa-share-alt"></i>
                        <span class="bn">সোশ্যাল মিডিয়া</span>
                    </a>
                </li>
                <li>
                    <a href="#backup" data-section="backup">
                        <i class="fas fa-database"></i>
                        <span class="bn">ব্যাকআপ ও রিস্টোর</span>
                    </a>
                </li>
            </ul>
            
            <div style="padding: 20px; margin-top: 30px; border-top: 1px solid #374151;">
                <a href="index.html" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-home"></i>
                    <span class="bn">ওয়েবসাইট দেখুন</span>
                </a>
                <button class="btn btn-outline" style="width: 100%; margin-top: 10px; color: white; border-color: white;" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="bn">লগআউট</span>
                </button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <div class="admin-header">
                <h1 class="admin-title bn" id="adminTitle">ড্যাশবোর্ড</h1>
                <div class="admin-user">
                    <div class="admin-user-avatar" id="adminAvatar">A</div>
                    <div>
                        <div id="adminUserName" class="bn" style="font-weight: 500;">অ্যাডমিন</div>
                        <div style="font-size: 0.85rem; color: var(--gray);" class="bn">অ্যাডমিন</div>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <h2 class="section-title bn">ড্যাশবোর্ড</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalProducts">0</div>
                        <div class="stat-label bn">মোট পণ্য</div>
                    </div>
                    
                    <div class="stat-card green">
                        <div class="stat-value" id="totalOrders">0</div>
                        <div class="stat-label bn">মোট অর্ডার</div>
                    </div>
                    
                    <div class="stat-card orange">
                        <div class="stat-value" id="totalUsers">0</div>
                        <div class="stat-label bn">মোট গ্রাহক</div>
                    </div>
                    
                    <div class="stat-card red">
                        <div class="stat-value" id="pendingOrders">0</div>
                        <div class="stat-label bn">পেন্ডিং অর্ডার</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">দ্রুত সংক্ষিপ্ত</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: var(--radius);">
                            <p class="bn" style="margin-bottom: 10px;">সর্বশেষ লগইন: <span id="lastLogin">আজ</span></p>
                            <p class="bn" style="margin-bottom: 10px;">ওয়েবসাইট স্ট্যাটাস: <span class="status-badge status-active">চালু</span></p>
                            <p class="bn" style="margin-bottom: 10px;">ডেটাবেস স্ট্যাটাস: <span class="status-badge status-active">কানেক্টেড</span></p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">দ্রুত কাজ</h3>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="btn btn-primary bn" onclick="switchSection('products')">
                                <i class="fas fa-plus"></i> নতুন পণ্য যোগ করুন
                            </button>
                            <button class="btn btn-success bn" onclick="switchSection('orders')">
                                <i class="fas fa-eye"></i> নতুন অর্ডার দেখুন
                            </button>
                            <button class="btn btn-outline bn" onclick="switchSection('website-settings')">
                                <i class="fas fa-edit"></i> ওয়েবসাইট এডিট করুন
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Website Settings Section -->
            <section id="website-settings" class="admin-section">
                <h2 class="section-title bn">ওয়েবসাইট সেটিংস</h2>
                
                <form id="websiteSettingsForm">
                    <div class="form-group">
                        <label class="form-label bn" for="siteTitle">ওয়েবসাইট টাইটেল</label>
                        <input type="text" class="form-control" id="siteTitle" placeholder="ItemSalesBD" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="siteDescription">ওয়েবসাইট বিবরণ</label>
                        <textarea class="form-control" id="siteDescription" placeholder="বাংলাদেশের সেরা অনলাইন মার্কেটপ্লেস..." rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label bn" for="contactEmail">যোগাযোগ ইমেইল</label>
                            <input type="email" class="form-control" id="contactEmail" placeholder="support@itemsalesbd.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label bn" for="contactPhone">যোগাযোগ ফোন</label>
                            <input type="text" class="form-control" id="contactPhone" placeholder="০১৭১২-৩৪৫৬৭৮" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="heroImage">হিরো ইমেজ URL</label>
                        <input type="text" class="form-control" id="heroImage" placeholder="https://images.unsplash.com/photo-...">
                        <div class="image-preview">
                            <img id="heroImagePreview" src="" alt="Hero Image Preview" style="display: none;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="productsTitle">পণ্য সেকশন টাইটেল</label>
                        <input type="text" class="form-control" id="productsTitle" placeholder="জনপ্রিয় পণ্য সমূহ" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="footerTitle">ফুটার টাইটেল</label>
                        <input type="text" class="form-control" id="footerTitle" placeholder="ItemSalesBD" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="footerDescription">ফুটার বিবরণ</label>
                        <textarea class="form-control" id="footerDescription" rows="2" placeholder="বাংলাদেশের সেরা অনলাইন মার্কেটপ্লেস..."></textarea>
                    </div>
                    
                    <div style="text-align: right; margin-top: 30px;">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            <span class="bn">সেটিংস সংরক্ষণ করুন</span>
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Products Management Section -->
            <section id="products" class="admin-section">
                <h2 class="section-title bn">পণ্য ব্যবস্থাপনা</h2>
                
                <div style="margin-bottom: 30px;">
                    <button class="btn btn-primary" id="addProductBtn">
                        <i class="fas fa-plus"></i>
                        <span class="bn">নতুন পণ্য যোগ করুন</span>
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th class="bn">ছবি</th>
                                <th class="bn">পণ্যের নাম</th>
                                <th class="bn">দাম (৳)</th>
                                <th class="bn">স্টক</th>
                                <th class="bn">ক্যাটেগরি</th>
                                <th class="bn">স্ট্যাটাস</th>
                                <th class="bn">কার্যকলাপ</th>
                            </tr>
                        </thead>
                        <tbody id="productsTableBody">
                            <tr>
                                <td colspan="7" class="loading bn">পণ্য লোড হচ্ছে...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Categories Section -->
            <section id="categories" class="admin-section">
                <h2 class="section-title bn">ক্যাটেগরি ব্যবস্থাপনা</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">নতুন ক্যাটেগরি যোগ করুন</h3>
                        <form id="addCategoryForm">
                            <div class="form-group">
                                <label class="form-label bn" for="categoryName">ক্যাটেগরি নাম</label>
                                <input type="text" class="form-control" id="categoryName" placeholder="উদা: ইলেকট্রনিক্স" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label bn" for="categoryIcon">আইকন (FontAwesome কোড)</label>
                                <input type="text" class="form-control" id="categoryIcon" placeholder="fas fa-mobile-alt">
                                <small class="bn" style="color: var(--gray);">FontAwesome আইকন ক্লাস (fas fa-...)</small>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i>
                                <span class="bn">ক্যাটেগরি যোগ করুন</span>
                            </button>
                        </form>
                    </div>
                    
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">ক্যাটেগরি তালিকা</h3>
                        <div id="categoriesList" class="loading bn">
                            ক্যাটেগরি লোড হচ্ছে...
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Orders Management Section -->
            <section id="orders" class="admin-section">
                <h2 class="section-title bn">অর্ডার ব্যবস্থাপনা</h2>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th class="bn">অর্ডার আইডি</th>
                                <th class="bn">গ্রাহক</th>
                                <th class="bn">পণ্য</th>
                                <th class="bn">দাম</th>
                                <th class="bn">স্ট্যাটাস</th>
                                <th class="bn">তারিখ</th>
                                <th class="bn">কার্যকলাপ</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <tr>
                                <td colspan="7" class="loading bn">অর্ডার লোড হচ্ছে...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Users Management Section -->
            <section id="users" class="admin-section">
                <h2 class="section-title bn">গ্রাহক ব্যবস্থাপনা</h2>
                
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th class="bn">নাম</th>
                                <th class="bn">ইমেইল</th>
                                <th class="bn">ভূমিকা</th>
                                <th class="bn">রেজিস্ট্রেশন তারিখ</th>
                                <th class="bn">মোট অর্ডার</th>
                                <th class="bn">কার্যকলাপ</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr>
                                <td colspan="6" class="loading bn">গ্রাহক লোড হচ্ছে...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Analytics Section -->
            <section id="analytics" class="admin-section">
                <h2 class="section-title bn">অ্যানালিটিক্স</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">বিক্রয় রিপোর্ট</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: var(--radius); min-height: 200px;">
                            <p class="bn" style="color: var(--gray);">রিপোর্ট লোড হচ্ছে...</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">জনপ্রিয় পণ্য</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: var(--radius); min-height: 200px;">
                            <p class="bn" style="color: var(--gray);">ডেটা লোড হচ্ছে...</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Social Media Section -->
            <section id="social" class="admin-section">
                <h2 class="section-title bn">সোশ্যাল মিডিয়া লিংক</h2>
                
                <form id="socialLinksForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label bn" for="facebookLink">Facebook লিংক</label>
                            <input type="url" class="form-control" id="facebookLink" placeholder="https://facebook.com/itemsalesbd">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label bn" for="instagramLink">Instagram লিংক</label>
                            <input type="url" class="form-control" id="instagramLink" placeholder="https://instagram.com/itemsalesbd">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label bn" for="whatsappLink">WhatsApp লিংক</label>
                            <input type="url" class="form-control" id="whatsappLink" placeholder="https://wa.me/8801712345678">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label bn" for="telegramLink">Telegram লিংক</label>
                            <input type="url" class="form-control" id="telegramLink" placeholder="https://t.me/itemsalesbd">
                        </div>
                    </div>
                    
                    <div style="text-align: right; margin-top: 30px;">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            <span class="bn">লিংক সংরক্ষণ করুন</span>
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Backup Section -->
            <section id="backup" class="admin-section">
                <h2 class="section-title bn">ব্যাকআপ ও রিস্টোর</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">ডেটা ব্যাকআপ</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: var(--radius);">
                            <p class="bn" style="margin-bottom: 15px;">সর্বশেষ ব্যাকআপ: <span id="lastBackup">কখনও না</span></p>
                            <button class="btn btn-primary" id="backupBtn">
                                <i class="fas fa-download"></i>
                                <span class="bn">ডেটা ব্যাকআপ নিন</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <h3 class="bn" style="margin-bottom: 15px;">ডেটা রিস্টোর</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: var(--radius);">
                            <p class="bn" style="margin-bottom: 15px;">সাবধান: পুরনো ডেটা মুছে যাবে</p>
                            <button class="btn btn-danger" id="restoreBtn" disabled>
                                <i class="fas fa-upload"></i>
                                <span class="bn">ডেটা রিস্টোর করুন</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" style="margin-top: 30px;">
                    <h3 class="bn" style="margin-bottom: 15px;">ডেটাবেস ক্লিনআপ</h3>
                    <div style="background: #fee2e2; padding: 20px; border-radius: var(--radius);">
                        <p class="bn" style="margin-bottom: 15px; color: #991b1b;">সাবধান: এই অপারেশন রিভার্স করা যাবে না</p>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-danger" id="clearOrdersBtn">
                                পুরনো অর্ডার ডিলিট করুন
                            </button>
                            <button class="btn btn-danger" id="clearProductsBtn">
                                স্টক আউট পণ্য ডিলিট করুন
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Firebase Configuration -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDTyjzVYkwyeayKjZjfFNWHpLZJB5XOo1A",
            authDomain: "itemsalesbd.firebaseapp.com",
            projectId: "itemsalesbd",
            storageBucket: "itemsalesbd.firebasestorage.app",
            messagingSenderId: "390468845332",
            appId: "1:390468845332:web:7350cfdf25f23151688c01",
            measurementId: "G-1REJXDEMSD"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        // DOM Elements
        const notification = document.getElementById('notification');
        const logoutBtn = document.getElementById('logoutBtn');
        const adminUserName = document.getElementById('adminUserName');
        const adminAvatar = document.getElementById('adminAvatar');
        const adminTitle = document.getElementById('adminTitle');
        const navLinks = document.querySelectorAll('.admin-nav a');
        const sections = document.querySelectorAll('.admin-section');
        
        // Stats elements
        const totalProducts = document.getElementById('totalProducts');
        const totalOrders = document.getElementById('totalOrders');
        const totalUsers = document.getElementById('totalUsers');
        const pendingOrders = document.getElementById('pendingOrders');
        
        // Notification function
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Switch between sections
        function switchSection(sectionId) {
            // Update active nav link
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-section') === sectionId) {
                    link.classList.add('active');
                }
            });
            
            // Show active section
            sections.forEach(section => {
                section.classList.remove('active');
                if (section.id === sectionId) {
                    section.classList.add('active');
                }
            });
            
            // Update page title
            const activeLink = document.querySelector(`[data-section="${sectionId}"]`);
            if (activeLink) {
                const sectionName = activeLink.querySelector('span').textContent;
                adminTitle.textContent = sectionName;
            }
            
            // Load section data
            loadSectionData(sectionId);
        }
        
        // Load section data
        async function loadSectionData(sectionId) {
            try {
                switch(sectionId) {
                    case 'dashboard':
                        await loadDashboardStats();
                        break;
                    case 'website-settings':
                        await loadWebsiteSettings();
                        break;
                    case 'products':
                        await loadProducts();
                        break;
                    case 'categories':
                        await loadCategories();
                        break;
                    case 'orders':
                        await loadOrders();
                        break;
                    case 'users':
                        await loadUsers();
                        break;
                    case 'social':
                        await loadSocialLinks();
                        break;
                }
            } catch (error) {
                console.error('Error loading section data:', error);
                showNotification('ডেটা লোড করতে সমস্যা!', 'error');
            }
        }
        
        // Load dashboard statistics
        async function loadDashboardStats() {
            try {
                // Load products count
                const productsSnapshot = await db.collection('products').get();
                totalProducts.textContent = productsSnapshot.size;
                
                // Load orders count
                const ordersSnapshot = await db.collection('orders').get();
                totalOrders.textContent = ordersSnapshot.size;
                
                // Load users count
                const usersSnapshot = await db.collection('users').get();
                totalUsers.textContent = usersSnapshot.size;
                
                // Load pending orders count
                const pendingSnapshot = await db.collection('orders').where('status', '==', 'pending').get();
                pendingOrders.textContent = pendingSnapshot.size;
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }
        
        // Load website settings
        async function loadWebsiteSettings() {
            try {
                const doc = await db.collection('settings').doc('website').get();
                if (doc.exists) {
                    const data = doc.data();
                    
                    // Fill form fields
                    document.getElementById('siteTitle').value = data.title || '';
                    document.getElementById('siteDescription').value = data.description || '';
                    document.getElementById('contactEmail').value = data.contactEmail || '';
                    document.getElementById('contactPhone').value = data.contactPhone || '';
                    document.getElementById('heroImage').value = data.heroImage || '';
                    document.getElementById('productsTitle').value = data.productsTitle || '';
                    document.getElementById('footerTitle').value = data.footerTitle || '';
                    document.getElementById('footerDescription').value = data.footerDescription || '';
                    
                    // Show image preview
                    if (data.heroImage) {
                        const preview = document.getElementById('heroImagePreview');
                        preview.src = data.heroImage;
                        preview.style.display = 'block';
                    }
                }
            } catch (error) {
                console.error('Error loading website settings:', error);
            }
        }
        
        // Load products
        async function loadProducts() {
            try {
                const productsSnapshot = await db.collection('products').get();
                const tbody = document.getElementById('productsTableBody');
                tbody.innerHTML = '';
                
                if (productsSnapshot.empty) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="7" class="loading bn">কোনো পণ্য পাওয়া যায়নি</td>
                        </tr>
                    `;
                    return;
                }
                
                productsSnapshot.forEach(doc => {
                    const product = doc.data();
                    const row = document.createElement('tr');
                    
                    row.innerHTML = `
                        <td>
                            <img src="${product.image || 'https://via.placeholder.com/50x50?text=No+Image'}" 
                                 alt="${product.name}" 
                                 style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;">
                        </td>
                        <td class="bn">${product.name}</td>
                        <td class="bn">৳ ${product.price}</td>
                        <td class="bn">${product.stock}</td>
                        <td class="bn">${product.category || 'সাধারণ'}</td>
                        <td>
                            <span class="status-badge ${product.stock > 0 ? 'status-active' : 'status-inactive'} bn">
                                ${product.stock > 0 ? 'স্টক আছে' : 'স্টক আউট'}
                            </span>
                        </td>
                        <td>
                            <button class="btn btn-primary btn-small bn" onclick="editProduct('${doc.id}')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-small bn" onclick="deleteProduct('${doc.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Error loading products:', error);
                document.getElementById('productsTableBody').innerHTML = `
                    <tr>
                        <td colspan="7" class="loading bn">পণ্য লোড করতে সমস্যা</td>
                    </tr>
                `;
            }
        }
        
        // Load categories
        async function loadCategories() {
            try {
                const categoriesSnapshot = await db.collection('categories').get();
                const categoriesList = document.getElementById('categoriesList');
                categoriesList.innerHTML = '';
                
                if (categoriesSnapshot.empty) {
                    categoriesList.innerHTML = '<p class="bn">কোনো ক্যাটেগরি পাওয়া যায়নি</p>';
                    return;
                }
                
                let html = '';
                categoriesSnapshot.forEach(doc => {
                    const category = doc.data();
                    html += `
                        <div style="background: #f8fafc; padding: 15px; margin-bottom: 10px; border-radius: var(--radius); display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <i class="${category.icon || 'fas fa-folder'}"></i>
                                <span class="bn" style="margin-left: 10px;">${category.name}</span>
                            </div>
                            <button class="btn btn-danger btn-small bn" onclick="deleteCategory('${doc.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                });
                
                categoriesList.innerHTML = html;
            } catch (error) {
                console.error('Error loading categories:', error);
            }
        }
        
        // Load orders
        async function loadOrders() {
            try {
                const ordersSnapshot = await db.collection('orders').orderBy('createdAt', 'desc').get();
                const tbody = document.getElementById('ordersTableBody');
                tbody.innerHTML = '';
                
                if (ordersSnapshot.empty) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="7" class="loading bn">কোনো অর্ডার পাওয়া যায়নি</td>
                        </tr>
                    `;
                    return;
                }
                
                ordersSnapshot.forEach(doc => {
                    const order = doc.data();
                    const date = order.createdAt ? order.createdAt.toDate().toLocaleDateString('bn-BD') : 'তারিখ নেই';
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="bn">${doc.id.substring(0, 8)}...</td>
                        <td class="bn">${order.userName || 'গ্রাহক'}</td>
                        <td class="bn">${order.productName || 'পণ্য'}</td>
                        <td class="bn">৳ ${order.price || 0}</td>
                        <td>
                            <span class="status-badge ${order.status === 'completed' ? 'status-active' : 'status-inactive'} bn">
                                ${order.status || 'pending'}
                            </span>
                        </td>
                        <td class="bn">${date}</td>
                        <td>
                            <button class="btn btn-success btn-small bn" onclick="updateOrderStatus('${doc.id}', 'completed')">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-danger btn-small bn" onclick="deleteOrder('${doc.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Error loading orders:', error);
            }
        }
        
        // Load users
        async function loadUsers() {
            try {
                const usersSnapshot = await db.collection('users').get();
                const tbody = document.getElementById('usersTableBody');
                tbody.innerHTML = '';
                
                if (usersSnapshot.empty) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="6" class="loading bn">কোনো গ্রাহক পাওয়া যায়নি</td>
                        </tr>
                    `;
                    return;
                }
                
                usersSnapshot.forEach(doc => {
                    const user = doc.data();
                    const date = user.createdAt ? user.createdAt.toDate().toLocaleDateString('bn-BD') : 'তারিখ নেই';
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="bn">${user.name || 'গ্রাহক'}</td>
                        <td class="bn">${user.email}</td>
                        <td class="bn">${user.role === 'admin' ? 'অ্যাডমিন' : 'গ্রাহক'}</td>
                        <td class="bn">${date}</td>
                        <td class="bn">0</td>
                        <td>
                            <button class="btn btn-danger btn-small bn" onclick="deleteUser('${doc.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Error loading users:', error);
            }
        }
        
        // Load social links
        async function loadSocialLinks() {
            try {
                const doc = await db.collection('settings').doc('website').get();
                if (doc.exists) {
                    const data = doc.data();
                    
                    document.getElementById('facebookLink').value = data.facebookLink || '';
                    document.getElementById('instagramLink').value = data.instagramLink || '';
                    document.getElementById('whatsappLink').value = data.whatsappLink || '';
                    document.getElementById('telegramLink').value = data.telegramLink || '';
                }
            } catch (error) {
                console.error('Error loading social links:', error);
            }
        }
        
        // Website settings form submission
        document.getElementById('websiteSettingsForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const settings = {
                title: document.getElementById('siteTitle').value,
                description: document.getElementById('siteDescription').value,
                contactEmail: document.getElementById('contactEmail').value,
                contactPhone: document.getElementById('contactPhone').value,
                heroImage: document.getElementById('heroImage').value,
                productsTitle: document.getElementById('productsTitle').value,
                footerTitle: document.getElementById('footerTitle').value,
                footerDescription: document.getElementById('footerDescription').value,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            try {
                await db.collection('settings').doc('website').set(settings, { merge: true });
                showNotification('ওয়েবসাইট সেটিংস সফলভাবে সংরক্ষণ করা হয়েছে!', 'success');
            } catch (error) {
                showNotification('সংরক্ষণ করতে সমস্যা: ' + error.message, 'error');
            }
        });
        
        // Add product button
        document.getElementById('addProductBtn').addEventListener('click', () => {
            const name = prompt('পণ্যের নাম দিন:');
            if (!name) return;
            
            const price = prompt('পণ্যের দাম দিন (৳):');
            if (!price) return;
            
            const stock = prompt('স্টক সংখ্যা দিন:');
            if (!stock) return;
            
            const category = prompt('ক্যাটেগরি দিন (ঐচ্ছিক):');
            const image = prompt('ছবির URL দিন (ঐচ্ছিক):');
            const description = prompt('বিবরণ দিন (ঐচ্ছিক):');
            
            const productData = {
                name: name,
                price: parseInt(price),
                stock: parseInt(stock),
                category: category || '',
                image: image || '',
                description: description || '',
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            db.collection('products').add(productData)
                .then(() => {
                    showNotification('পণ্য সফলভাবে যোগ করা হয়েছে!', 'success');
                    loadProducts();
                    loadDashboardStats();
                })
                .catch(error => {
                    showNotification('যোগ করতে সমস্যা: ' + error.message, 'error');
                });
        });
        
        // Add category form
        document.getElementById('addCategoryForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const name = document.getElementById('categoryName').value;
            const icon = document.getElementById('categoryIcon').value;
            
            if (!name) {
                showNotification('ক্যাটেগরি নাম দিন!', 'error');
                return;
            }
            
            try {
                await db.collection('categories').add({
                    name: name,
                    icon: icon || 'fas fa-folder',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                document.getElementById('addCategoryForm').reset();
                showNotification('ক্যাটেগরি সফলভাবে যোগ করা হয়েছে!', 'success');
                loadCategories();
            } catch (error) {
                showNotification('যোগ করতে সমস্যা: ' + error.message, 'error');
            }
        });
        
        // Social links form
        document.getElementById('socialLinksForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const socialLinks = {
                facebookLink: document.getElementById('facebookLink').value,
                instagramLink: document.getElementById('instagramLink').value,
                whatsappLink: document.getElementById('whatsappLink').value,
                telegramLink: document.getElementById('telegramLink').value,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            try {
                await db.collection('settings').doc('website').set(socialLinks, { merge: true });
                showNotification('সোশ্যাল মিডিয়া লিংক সংরক্ষণ করা হয়েছে!', 'success');
            } catch (error) {
                showNotification('সংরক্ষণ করতে সমস্যা: ' + error.message, 'error');
            }
        });
        
        // Global functions for inline event handlers
        window.editProduct = function(productId) {
            const newPrice = prompt('নতুন দাম দিন (৳):');
            if (!newPrice) return;
            
            const newStock = prompt('নতুন স্টক সংখ্যা দিন:');
            if (!newStock) return;
            
            db.collection('products').doc(productId).update({
                price: parseInt(newPrice),
                stock: parseInt(newStock),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                showNotification('পণ্য আপডেট করা হয়েছে!', 'success');
                loadProducts();
            })
            .catch(error => {
                showNotification('আপডেট করতে সমস্যা: ' + error.message, 'error');
            });
        };
        
        window.deleteProduct = function(productId) {
            if (confirm('আপনি কি নিশ্চিত এই পণ্য ডিলিট করতে চান?')) {
                db.collection('products').doc(productId).delete()
                    .then(() => {
                        showNotification('পণ্য ডিলিট করা হয়েছে!', 'success');
                        loadProducts();
                        loadDashboardStats();
                    })
                    .catch(error => {
                        showNotification('ডিলিট করতে সমস্যা: ' + error.message, 'error');
                    });
            }
        };
        
        window.deleteCategory = function(categoryId) {
            if (confirm('আপনি কি নিশ্চিত এই ক্যাটেগরি ডিলিট করতে চান?')) {
                db.collection('categories').doc(categoryId).delete()
                    .then(() => {
                        showNotification('ক্যাটেগরি ডিলিট করা হয়েছে!', 'success');
                        loadCategories();
                    })
                    .catch(error => {
                        showNotification('ডিলিট করতে সমস্যা: ' + error.message, 'error');
                    });
            }
        };
        
        window.updateOrderStatus = function(orderId, status) {
            db.collection('orders').doc(orderId).update({
                status: status,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                showNotification('অর্ডার স্ট্যাটাস আপডেট করা হয়েছে!', 'success');
                loadOrders();
                loadDashboardStats();
            })
            .catch(error => {
                showNotification('আপডেট করতে সমস্যা: ' + error.message, 'error');
            });
        };
        
        window.deleteOrder = function(orderId) {
            if (confirm('আপনি কি নিশ্চিত এই অর্ডার ডিলিট করতে চান?')) {
                db.collection('orders').doc(orderId).delete()
                    .then(() => {
                        showNotification('অর্ডার ডিলিট করা হয়েছে!', 'success');
                        loadOrders();
                        loadDashboardStats();
                    })
                    .catch(error => {
                        showNotification('ডিলিট করতে সমস্যা: ' + error.message, 'error');
                    });
            }
        };
        
        window.deleteUser = function(userId) {
            if (confirm('আপনি কি নিশ্চিত এই গ্রাহক ডিলিট করতে চান?')) {
                db.collection('users').doc(userId).delete()
                    .then(() => {
                        showNotification('গ্রাহক ডিলিট করা হয়েছে!', 'success');
                        loadUsers();
                        loadDashboardStats();
                    })
                    .catch(error => {
                        showNotification('ডিলিট করতে সমস্যা: ' + error.message, 'error');
                    });
            }
        };
        
        // Navigation click handlers
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.getAttribute('data-section');
                switchSection(sectionId);
            });
        });
        
        // Logout
        logoutBtn.addEventListener('click', async () => {
            try {
                await auth.signOut();
                window.location.href = 'index.html';
            } catch (error) {
                showNotification('লগআউটে সমস্যা: ' + error.message, 'error');
            }
        });
        
        // Auth state listener
        auth.onAuthStateChanged(async (user) => {
            if (!user) {
                window.location.href = 'index.html';
                return;
            }
            
            try {
                const userDoc = await db.collection('users').doc(user.uid).get();
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    
                    // Check if user is admin
                    if (userData.role !== 'admin') {
                        showNotification('শুধুমাত্র অ্যাডমিনরা এই প্যানেল ব্যবহার করতে পারেন!', 'error');
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 2000);
                        return;
                    }
                    
                    adminUserName.textContent = userData.name || user.email;
                    adminAvatar.textContent = userData.name ? userData.name.charAt(0).toUpperCase() : user.email.charAt(0).toUpperCase();
                }
            } catch (error) {
                console.error('Error checking admin status:', error);
            }
            
            // Load initial data
            loadDashboardStats();
        });
        
        // Image preview
        document.getElementById('heroImage').addEventListener('input', function() {
            const url = this.value;
            const preview = document.getElementById('heroImagePreview');
            
            if (url) {
                preview.src = url;
                preview.style.display = 'block';
            } else {
                preview.style.display = 'none';
            }
        });
        
        // Backup button
        document.getElementById('backupBtn').addEventListener('click', () => {
            showNotification('ব্যাকআপ ফিচার শীঘ্রই আসছে!', 'info');
        });
    </script>
</body>
</html>
