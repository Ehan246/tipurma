<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubflixBD | Premium Subscription Marketplace</title>
    <!-- Firebase SDK (Version 8 for compatibility) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f3ff;
            --primary-dark: #00c2cc;
            --secondary: #ff00ff;
            --accent: #ff6b6b;
            --dark: #0a0a1a;
            --darker: #050510;
            --light: #f0f8ff;
            --neon-glow: 0 0 10px var(--primary), 0 0 20px var(--primary), 0 0 30px var(--primary);
            --neon-pink-glow: 0 0 10px var(--secondary), 0 0 20px var(--secondary), 0 0 30px var(--secondary);
            --shadow: 0 4px 6px rgba(0, 243, 255, 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            line-height: 1.6;
            color: var(--light);
            background-color: var(--darker);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 243, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 0, 255, 0.05) 0%, transparent 20%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            font-weight: 700;
            line-height: 1.3;
        }
        
        .bn {
            font-family: 'Noto Sans Bengali', sans-serif;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            text-align: center;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--secondary);
            border: 2px solid var(--secondary);
            box-shadow: var(--neon-pink-glow);
        }
        
        .btn-secondary:hover {
            background-color: var(--secondary);
            color: var(--dark);
            transform: translateY(-3px);
        }
        
        .btn-small {
            padding: 8px 20px;
            font-size: 0.9rem;
        }
        
        .btn-large {
            padding: 16px 40px;
            font-size: 1.1rem;
        }
        
        /* Header */
        header {
            background-color: rgba(10, 10, 26, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 243, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: var(--dark);
            box-shadow: var(--neon-glow);
        }
        
        .logo-text {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .auth-buttons {
            display: flex;
            gap: 15px;
        }
        
        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            box-shadow: var(--neon-glow);
        }
        
        /* Hero Section */
        .hero {
            padding: 100px 0 80px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(0, 243, 255, 0.1) 0%, transparent 70%);
            z-index: -1;
        }
        
        .hero-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
            color: rgba(240, 248, 255, 0.8);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Stats */
        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 60px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: rgba(240, 248, 255, 0.7);
        }
        
        /* Products Section */
        .products-section {
            padding: 80px 0;
        }
        
        .section-title {
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            box-shadow: var(--neon-glow);
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background: rgba(10, 10, 26, 0.8);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 243, 255, 0.1);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.05), rgba(255, 0, 255, 0.05));
            z-index: -1;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 243, 255, 0.2);
            border-color: var(--primary);
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .product-badge {
            background: linear-gradient(90deg, var(--accent), #ff9f43);
            color: var(--dark);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }
        
        .product-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--light);
        }
        
        .product-price {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .product-stock {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
            font-size: 0.95rem;
            color: rgba(240, 248, 255, 0.8);
        }
        
        .stock-high {
            color: var(--primary);
        }
        
        .stock-low {
            color: var(--accent);
        }
        
        .product-actions {
            display: flex;
            gap: 15px;
        }
        
        .product-actions .btn {
            flex: 1;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            padding: 60px 0;
        }
        
        .admin-panel.active {
            display: block;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .admin-form {
            background: rgba(10, 10, 26, 0.9);
            border-radius: var(--radius);
            padding: 40px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            margin-bottom: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--primary);
        }
        
        .form-control {
            width: 100%;
            padding: 15px 20px;
            background: rgba(5, 5, 16, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: var(--radius);
            color: var(--light);
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--neon-glow);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 5, 16, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: rgba(10, 10, 26, 0.95);
            border-radius: var(--radius);
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(0, 243, 255, 0.3);
            box-shadow: var(--neon-glow);
            overflow: hidden;
        }
        
        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--light);
            transition: var(--transition);
        }
        
        .modal-close:hover {
            color: var(--primary);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(0, 243, 255, 0.2);
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        /* Auth Tabs */
        .auth-tabs {
            display: flex;
            border-bottom: 1px solid rgba(0, 243, 255, 0.2);
            margin-bottom: 30px;
        }
        
        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: none;
            border: none;
            color: rgba(240, 248, 255, 0.6);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        /* Image Preview */
        .image-preview {
            margin-top: 10px;
            display: none;
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: var(--radius);
            border: 1px solid var(--primary);
        }
        
        /* Footer */
        footer {
            background-color: rgba(5, 5, 16, 0.95);
            border-top: 1px solid rgba(0, 243, 255, 0.2);
            padding: 60px 0 30px;
            margin-top: 80px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: rgba(240, 248, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--primary);
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(0, 243, 255, 0.2);
            color: rgba(240, 248, 255, 0.5);
            font-size: 0.9rem;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(0, 243, 255, 0.1);
            color: var(--primary);
            border-radius: 50%;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .social-icons a:hover {
            background: var(--primary);
            color: var(--dark);
            box-shadow: var(--neon-glow);
            transform: translateY(-3px);
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--primary);
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-title {
                font-size: 2.8rem;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .header-actions {
                width: 100%;
                justify-content: center;
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1rem;
            }
            
            .stats {
                gap: 30px;
            }
            
            .stat-number {
                font-size: 2rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .hero {
                padding: 70px 0 50px;
            }
            
            .hero-title {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .admin-form {
                padding: 25px 20px;
            }
            
            .modal-content {
                width: 95%;
            }
        }
        
        /* Neon Effects */
        .neon-text {
            color: var(--primary);
            text-shadow: var(--neon-glow);
        }
        
        .neon-border {
            border: 2px solid var(--primary);
            box-shadow: var(--neon-glow);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 5px var(--primary), 0 0 10px var(--primary), 0 0 15px var(--primary);
            }
            50% {
                box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary), 0 0 30px var(--primary);
            }
            100% {
                box-shadow: 0 0 5px var(--primary), 0 0 10px var(--primary), 0 0 15px var(--primary);
            }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: var(--radius);
            color: white;
            font-weight: 500;
            z-index: 3000;
            display: none;
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .notification.success {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border-left: 5px solid var(--primary);
        }
        
        .notification.error {
            background: linear-gradient(90deg, #ff4757, #ff6b81);
            border-left: 5px solid #ff4757;
        }
        
        .notification.info {
            background: linear-gradient(90deg, #2ed573, #1e90ff);
            border-left: 5px solid #1e90ff;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification"></div>
    
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo">
                <div class="logo-icon pulse">
                    <i class="fas fa-play"></i>
                </div>
                <div class="logo-text">SubflixBD</div>
            </a>
            
            <div class="header-actions">
                <div id="authButtons" class="auth-buttons">
                    <button class="btn btn-secondary btn-small" id="loginBtn">
                        <span class="bn">‡¶≤‡¶ó‡¶á‡¶®</span>
                    </button>
                    <button class="btn btn-primary btn-small" id="signupBtn">
                        <span class="bn">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</span>
                    </button>
                </div>
                
                <div id="userMenu" class="user-menu" style="display: none;">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <div>
                        <div id="userName" class="bn" style="font-weight: 500;">‡¶è‡¶°‡¶Æ‡¶ø‡¶®</div>
                        <div style="font-size: 0.85rem; color: rgba(240, 248, 255, 0.7);" class="bn" id="userRole">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®</div>
                    </div>
                    <button class="btn btn-secondary btn-small" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                    <button class="btn btn-primary btn-small" id="adminBtn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <h1 class="hero-title bn">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶è‡¶ï ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶á</h1>
            <p class="hero-subtitle bn">‡¶®‡ßá‡¶ü‡¶´‡ßç‡¶≤‡¶ø‡¶ï‡ßç‡¶∏, ‡¶π‡¶ü‡¶∏‡ßç‡¶ü‡¶æ‡¶∞, ‡¶∏‡ßç‡¶™‡¶ü‡¶ø‡¶´‡¶æ‡¶á ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶∏‡ßá‡¶¨‡¶æ ‡¶è‡¶ñ‡¶® ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®‡•§</p>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">‡ßß ‡¶ü‡¶ø</div>
                    <div class="stat-label bn">‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</div>
                </div>
                
                <div class="stat-item">
                    <div class="stat-number">‡ß´ ‡¶ü‡¶ø</div>
                    <div class="stat-label bn">‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</div>
                </div>
                
                <div class="stat-item">
                    <div class="stat-number">‡ßß‡ß¶‡ß¶%</div>
                    <div class="stat-label bn">‡¶∏‡ßá‡¶´ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü</div>
                </div>
            </div>
            
            <button class="btn btn-primary btn-large pulse" id="browseProductsBtn">
                <i class="fas fa-shopping-cart"></i>
                <span class="bn">‡¶è‡¶ñ‡¶®‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</span>
            </button>
        </div>
    </section>
    
    <!-- Products Section -->
    <section class="products-section" id="productsSection">
        <div class="container">
            <h2 class="section-title bn neon-text">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡ßü ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶∏‡¶Æ‡ßÇ‡¶π</h2>
            
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded dynamically -->
                <div class="loading bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
            </div>
        </div>
    </section>
    
    <!-- Admin Panel -->
    <section class="admin-panel" id="adminPanel">
        <div class="container">
            <div class="admin-header">
                <h2 class="section-title bn">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ - ‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h2>
                <button class="btn btn-secondary" id="backToProductsBtn">
                    <i class="fas fa-arrow-left"></i>
                    <span class="bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span>
                </button>
            </div>
            
            <div class="admin-form">
                <h3 class="bn" style="color: var(--primary); margin-bottom: 25px;">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                
                <form id="addProductForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label bn" for="productName">‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                            <input type="text" class="form-control" id="productName" placeholder="‡¶â‡¶¶‡¶æ: Netflix Premium" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label bn" for="productPrice">‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø (‡ß≥)</label>
                            <input type="number" class="form-control" id="productPrice" placeholder="‡¶â‡¶¶‡¶æ: 500" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label bn" for="productStock">‡¶∏‡ßç‡¶ü‡¶ï ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ</label>
                            <input type="number" class="form-control" id="productStock" placeholder="‡¶â‡¶¶‡¶æ: 20" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label bn" for="productType">‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ß‡¶∞‡¶®</label>
                            <select class="form-control" id="productType" required>
                                <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                                <option value="streaming">‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏</option>
                                <option value="vpn">‡¶≠‡¶ø‡¶™‡¶ø‡¶è‡¶® ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏</option>
                                <option value="email">‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü</option>
                                <option value="crypto">‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã</option>
                                <option value="software">‡¶∏‡¶´‡¶ü‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="productDescription">‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                        <textarea class="form-control" id="productDescription" rows="3" placeholder="‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="productImage">‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø URL</label>
                        <input type="text" class="form-control" id="productImage" placeholder="https://example.com/image.jpg" required>
                        <small class="bn" style="color: rgba(240, 248, 255, 0.6); display: block; margin-top: 5px;">Unsplash, Imgur ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶π‡ßã‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶¶‡¶ø‡¶®</small>
                        <div class="image-preview" id="imagePreview">
                            <img id="previewImage" src="" alt="Preview">
                        </div>
                    </div>
                    
                    <div style="text-align: right; margin-top: 30px;">
                        <button type="reset" class="btn btn-secondary">
                            <span class="bn">‡¶ï‡ßç‡¶≤‡¶ø‡ßü‡¶æ‡¶∞</span>
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            <span class="bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </button>
                    </div>
                </form>
            </div>
            
            <h3 class="bn" style="color: var(--primary); margin-bottom: 25px;">‡¶∏‡¶ï‡¶≤ ‡¶™‡¶£‡ßç‡¶Ø</h3>
            
            <div class="products-grid" id="adminProductsGrid">
                <div class="loading bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
            </div>
        </div>
    </section>
    
    <!-- Auth Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title bn" id="modalTitle">‡¶≤‡¶ó‡¶á‡¶® / ‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</h3>
                <button class="modal-close" id="closeModalBtn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">‡¶≤‡¶ó‡¶á‡¶®</button>
                    <button class="auth-tab" data-tab="signup">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</button>
                </div>
                
                <form id="loginForm" class="auth-form active">
                    <div class="form-group">
                        <label class="form-label bn" for="loginEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                        <input type="email" class="form-control" id="loginEmail" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="loginPassword">‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°</label>
                        <input type="password" class="form-control" id="loginPassword" placeholder="********" required>
                    </div>
                    
                    <div class="modal-footer" style="border: none; padding: 0; margin-top: 30px;">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            <span class="bn">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </button>
                    </div>
                </form>
                
                <form id="signupForm" class="auth-form">
                    <div class="form-group">
                        <label class="form-label bn" for="signupName">‡¶®‡¶æ‡¶Æ</label>
                        <input type="text" class="form-control" id="signupName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="signupEmail">‡¶á‡¶Æ‡ßá‡¶á‡¶≤</label>
                        <input type="email" class="form-control" id="signupEmail" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="signupPassword">‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°</label>
                        <input type="password" class="form-control" id="signupPassword" placeholder="********" required>
                        <small class="bn" style="color: rgba(240, 248, 255, 0.6); display: block; margin-top: 5px;">‡¶Ö‡¶®‡ßç‡¶§‡¶§ ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label bn" for="signupRole">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ</label>
                        <select class="form-control" id="signupRole" required>
                            <option value="customer">‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</option>
                            <option value="admin">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®</option>
                        </select>
                    </div>
                    
                    <div class="modal-footer" style="border: none; padding: 0; margin-top: 30px;">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            <span class="bn">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Product Image Upload Modal -->
    <div class="modal" id="imageUploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title bn">‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                <button class="modal-close" id="closeImageModalBtn">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label bn" for="fileInput">‡¶õ‡¶¨‡¶ø ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <input type="file" class="form-control" id="fileInput" accept="image/*">
                </div>
                
                <div class="form-group">
                    <label class="form-label bn">‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</label>
                    <div style="text-align: center;">
                        <img id="uploadPreview" src="" alt="Upload Preview" style="max-width: 100%; max-height: 200px; display: none; border-radius: var(--radius);">
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelUploadBtn">
                        <span class="bn">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</span>
                    </button>
                    <button class="btn btn-primary" id="uploadImageBtn">
                        <i class="fas fa-upload"></i>
                        <span class="bn">‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3 class="bn">SubflixBD</h3>
                    <p class="bn" style="color: rgba(240, 248, 255, 0.7); margin-bottom: 20px;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡ßá‡¶∞‡¶æ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶™‡ßç‡¶≤‡ßá‡¶∏‡•§ ‡¶®‡ßá‡¶ü‡¶´‡ßç‡¶≤‡¶ø‡¶ï‡ßç‡¶∏, ‡¶π‡¶ü‡¶∏‡ßç‡¶ü‡¶æ‡¶∞, ‡¶∏‡ßç‡¶™‡¶ü‡¶ø‡¶´‡¶æ‡¶á ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶∏‡ßá‡¶¨‡¶æ ‡¶è‡¶ñ‡¶® ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶á ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®‡•§</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                        <a href="#"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3 class="bn">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶≤‡¶ø‡¶Ç‡¶ï</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="bn">‡¶π‡ßã‡¶Æ</a></li>
                        <li><a href="#" class="bn">‡¶∏‡¶¨ ‡¶™‡¶£‡ßç‡¶Ø</a></li>
                        <li><a href="#" class="bn">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡ßü</a></li>
                        <li><a href="#" class="bn">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</a></li>
                        <li><a href="#" class="bn">‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶ø‡¶®‡¶¨‡ßá‡¶®</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3 class="bn">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="bn">FAQ</a></li>
                        <li><a href="#" class="bn">‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</a></li>
                        <li><a href="#" class="bn">‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶™‡¶≤‡¶ø‡¶∏‡¶ø</a></li>
                        <li><a href="#" class="bn">‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶∏‡¶ø ‡¶™‡¶≤‡¶ø‡¶∏‡¶ø</a></li>
                        <li><a href="#" class="bn">‡¶ü‡¶æ‡¶∞‡ßç‡¶Æ‡¶∏ ‡¶Ö‡¶´ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3 class="bn">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</h3>
                    <div style="color: rgba(240, 248, 255, 0.7);">
                        <p class="bn" style="margin-bottom: 10px;">
                            <i class="fas fa-envelope" style="margin-right: 10px; color: var(--primary);"></i>
                            support@subflixbd.com
                        </p>
                        <p class="bn" style="margin-bottom: 10px;">
                            <i class="fas fa-phone" style="margin-right: 10px; color: var(--primary);"></i>
                            ‡ß¶‡ßß‡ß≠‡ßß‡ß®-‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ
                        </p>
                        <p class="bn">
                            <i class="fas fa-clock" style="margin-right: 10px; color: var(--primary);"></i>
                            ‡ß®‡ß™/‡ß≠ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p class="bn">&copy; ‡ß®‡ß¶‡ß®‡ß© SubflixBD. ‡¶∏‡¶ï‡¶≤ ‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§</p>
            </div>
        </div>
    </footer>
    
    <!-- Firebase Configuration -->
    <script>
        // üî• Firebase Configuration - ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶æ‡¶® üî•
        const firebaseConfig = {
            apiKey: "AIzaSyDTyjzVYkwyeayKjZjfFNWHpLZJB5XOo1A",
            authDomain: "itemsalesbd.firebaseapp.com",
            projectId: "itemsalesbd",
            storageBucket: "itemsalesbd.firebasestorage.app",
            messagingSenderId: "390468845332",
            appId: "1:390468845332:web:7350cfdf25f23151688c01",
            measurementId: "G-1REJXDEMSD"
        };

        // Firebase ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        firebase.initializeApp(firebaseConfig);
        
        // Firebase ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá‡¶∏
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
        
        // Initialize variables
        let currentUser = null;
        let isAdmin = false;
        
        // DOM Elements
        const authModal = document.getElementById('authModal');
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const logoutBtn = document.getElementById('logoutBtn');
        const userMenu = document.getElementById('userMenu');
        const authButtons = document.getElementById('authButtons');
        const userName = document.getElementById('userName');
        const userRole = document.getElementById('userRole');
        const userAvatar = document.getElementById('userAvatar');
        const adminBtn = document.getElementById('adminBtn');
        const adminPanel = document.getElementById('adminPanel');
        const productsSection = document.getElementById('productsSection');
        const backToProductsBtn = document.getElementById('backToProductsBtn');
        const browseProductsBtn = document.getElementById('browseProductsBtn');
        const addProductForm = document.getElementById('addProductForm');
        const productsGrid = document.getElementById('productsGrid');
        const adminProductsGrid = document.getElementById('adminProductsGrid');
        const notification = document.getElementById('notification');
        const productImageInput = document.getElementById('productImage');
        const imagePreview = document.getElementById('imagePreview');
        const previewImage = document.getElementById('previewImage');
        
        // Notification function
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Image preview
        productImageInput.addEventListener('input', function() {
            const url = this.value;
            if (url) {
                previewImage.src = url;
                imagePreview.style.display = 'block';
                
                // Check if image loads successfully
                previewImage.onload = function() {
                    showNotification('‡¶õ‡¶¨‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
                };
                
                previewImage.onerror = function() {
                    showNotification('‡¶õ‡¶¨‡¶ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ! ‡¶∏‡¶†‡¶ø‡¶ï URL ‡¶¶‡¶ø‡¶®‡•§', 'error');
                    imagePreview.style.display = 'none';
                };
            } else {
                imagePreview.style.display = 'none';
            }
        });
        
        // Sample product data (fallback if Firebase fails)
        const sampleProducts = [
            {
                id: "1",
                name: "Hotmail",
                price: 20,
                stock: 5,
                type: "email",
                description: "‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶π‡¶ü‡¶Æ‡ßá‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü",
                image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: "2",
                name: "USDT",
                price: 35,
                stock: 3,
                type: "crypto",
                description: "USDT ‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏‡¶ø",
                image: "https://images.unsplash.com/photo-1620336655055-bd87c5d1d73f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: "3",
                name: "Outlook",
                price: 30,
                stock: 20,
                type: "email",
                description: "‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶Ü‡¶â‡¶ü‡¶≤‡ßÅ‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü",
                image: "https://images.unsplash.com/photo-1611605698323-b1e99cfd37ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
            }
        ];
        
        // Auth State Listener
        auth.onAuthStateChanged(async (user) => {
            if (user) {
                currentUser = user;
                
                try {
                    // Get user data from Firestore
                    const userDoc = await db.collection('users').doc(user.uid).get();
                    if (userDoc.exists) {
                        const userData = userDoc.data();
                        userName.textContent = userData.name || user.email;
                        userRole.textContent = userData.role === 'admin' ? '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®' : '‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï';
                        userAvatar.textContent = userData.name ? userData.name.charAt(0).toUpperCase() : user.email.charAt(0).toUpperCase();
                        isAdmin = userData.role === 'admin';
                        
                        // Show admin button if admin
                        adminBtn.style.display = isAdmin ? 'block' : 'none';
                        showNotification(`${userData.name || user.email} ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`, 'success');
                    } else {
                        // Create user document if doesn't exist
                        await db.collection('users').doc(user.uid).set({
                            name: user.email.split('@')[0],
                            email: user.email,
                            role: 'customer',
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                        
                        userName.textContent = user.email;
                        userRole.textContent = '‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï';
                        userAvatar.textContent = user.email.charAt(0).toUpperCase();
                        isAdmin = false;
                        adminBtn.style.display = 'none';
                    }
                } catch (error) {
                    console.error('Error getting user data:', error);
                    showNotification('‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!', 'error');
                }
                
                // Update UI
                authButtons.style.display = 'none';
                userMenu.style.display = 'flex';
                
                // Load products
                loadProducts();
                
                // Close modal if open
                authModal.classList.remove('active');
            } else {
                currentUser = null;
                isAdmin = false;
                
                // Update UI
                authButtons.style.display = 'flex';
                userMenu.style.display = 'none';
                
                // Show sample products for guests
                renderProducts(sampleProducts, productsGrid);
            }
        });
        
        // Auth Tab Switching
        authTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                authTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding form
                authForms.forEach(form => {
                    form.classList.remove('active');
                    if (form.id === `${tabId}Form`) {
                        form.classList.add('active');
                    }
                });
            });
        });
        
        // Login Form Submission
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            try {
                showNotification('‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                console.log('Logged in:', userCredential.user);
            } catch (error) {
                showNotification('‡¶≤‡¶ó‡¶á‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
        });
        
        // Signup Form Submission
        signupForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const role = document.getElementById('signupRole').value;
            
            if (password.length < 6) {
                showNotification('‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Ö‡¶®‡ßç‡¶§‡¶§ ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá!', 'error');
                return;
            }
            
            try {
                showNotification('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
                // Create user
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                
                // Save user data to Firestore
                await db.collection('users').doc(userCredential.user.uid).set({
                    name: name,
                    email: email,
                    role: role,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                showNotification('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
                console.log('User created:', userCredential.user);
            } catch (error) {
                showNotification('‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
        });
        
        // Logout
        logoutBtn.addEventListener('click', async () => {
            try {
                await auth.signOut();
                adminPanel.classList.remove('active');
                productsSection.style.display = 'block';
                showNotification('‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
            } catch (error) {
                showNotification('‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
        });
        
        // Open Auth Modal
        loginBtn.addEventListener('click', () => {
            authModal.classList.add('active');
        });
        
        signupBtn.addEventListener('click', () => {
            // Switch to signup tab
            authTabs.forEach(t => t.classList.remove('active'));
            authTabs[1].classList.add('active');
            
            authForms.forEach(form => form.classList.remove('active'));
            signupForm.classList.add('active');
            
            authModal.classList.add('active');
        });
        
        // Close Modal
        closeModalBtn.addEventListener('click', () => {
            authModal.classList.remove('active');
        });
        
        // Close modal when clicking outside
        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) {
                authModal.classList.remove('active');
            }
        });
        
        // Admin Panel Toggle
        adminBtn.addEventListener('click', () => {
            if (isAdmin) {
                productsSection.style.display = 'none';
                adminPanel.classList.add('active');
                loadAdminProducts();
            } else {
                showNotification('‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶∞‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®!', 'error');
            }
        });
        
        backToProductsBtn.addEventListener('click', () => {
            adminPanel.classList.remove('active');
            productsSection.style.display = 'block';
        });
        
        browseProductsBtn.addEventListener('click', () => {
            productsSection.scrollIntoView({ behavior: 'smooth' });
        });
        
        // Add Product Form Submission
        addProductForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!isAdmin) {
                showNotification('‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶∞‡¶æ ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®!', 'error');
                return;
            }
            
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const type = document.getElementById('productType').value;
            const description = document.getElementById('productDescription').value;
            const image = document.getElementById('productImage').value;
            
            if (!name || !price || !stock || !type || !image) {
                showNotification('‡¶∏‡¶ï‡¶≤ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!', 'error');
                return;
            }
            
            if (price <= 0 || stock < 0) {
                showNotification('‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ü‡¶ï ‡¶∏‡¶†‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶® ‡¶¶‡¶ø‡¶®!', 'error');
                return;
            }
            
            try {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
                
                // Add product to Firestore
                const productData = {
                    name: name,
                    price: price,
                    stock: stock,
                    type: type,
                    description: description || '',
                    image: image,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    createdBy: currentUser.uid,
                    createdByName: userName.textContent
                };
                
                await db.collection('products').add(productData);
                
                // Reset form
                addProductForm.reset();
                imagePreview.style.display = 'none';
                
                // Reload products
                loadAdminProducts();
                loadProducts();
                
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
            } catch (error) {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
        });
        
        // Load Products from Firebase
        async function loadProducts() {
            try {
                const productsSnapshot = await db.collection('products').where('stock', '>', 0).get();
                
                if (productsSnapshot.empty) {
                    // Load sample products if no products in Firebase
                    showNotification('‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶°‡ßá‡¶Æ‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§', 'info');
                    renderProducts(sampleProducts, productsGrid);
                    return;
                }
                
                const products = [];
                productsSnapshot.forEach(doc => {
                    const data = doc.data();
                    products.push({
                        id: doc.id,
                        ...data,
                        // Ensure all required fields exist
                        name: data.name || 'Unnamed Product',
                        price: data.price || 0,
                        stock: data.stock || 0,
                        type: data.type || 'other',
                        image: data.image || 'https://via.placeholder.com/500x300?text=No+Image'
                    });
                });
                
                renderProducts(products, productsGrid);
                showNotification(`${products.length}‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá!`, 'success');
            } catch (error) {
                console.error('Error loading products:', error);
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ! ‡¶°‡ßá‡¶Æ‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§', 'error');
                renderProducts(sampleProducts, productsGrid);
            }
        }
        
        // Load Admin Products
        async function loadAdminProducts() {
            try {
                adminProductsGrid.innerHTML = '<div class="loading bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>';
                
                const productsSnapshot = await db.collection('products').orderBy('createdAt', 'desc').get();
                
                if (productsSnapshot.empty) {
                    adminProductsGrid.innerHTML = '<div class="loading bn">‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø</div>';
                    return;
                }
                
                const products = [];
                productsSnapshot.forEach(doc => {
                    const data = doc.data();
                    products.push({
                        id: doc.id,
                        ...data,
                        name: data.name || 'Unnamed Product',
                        price: data.price || 0,
                        stock: data.stock || 0,
                        type: data.type || 'other',
                        image: data.image || 'https://via.placeholder.com/500x300?text=No+Image'
                    });
                });
                
                renderAdminProducts(products, adminProductsGrid);
                showNotification(`${products.length}‡¶ü‡¶ø ‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá!`, 'success');
            } catch (error) {
                console.error('Error loading admin products:', error);
                adminProductsGrid.innerHTML = '<div class="loading bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ</div>';
                showNotification('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!', 'error');
            }
        }
        
        // Render Products
        function renderProducts(products, container) {
            container.innerHTML = '';
            
            if (products.length === 0) {
                container.innerHTML = '<div class="loading bn">‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø</div>';
                return;
            }
            
            products.forEach(product => {
                const stockClass = product.stock === 0 ? 'stock-out' : 
                                 product.stock <= 5 ? 'stock-low' : 'stock-high';
                
                const stockText = product.stock === 0 ? '‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ü‡¶â‡¶ü' : 
                                `‡¶∏‡ßç‡¶ü‡¶ï: ${product.stock} ‡¶ü‡¶ø`;
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-header">
                        <div class="product-badge bn">${getTypeName(product.type)}</div>
                        <div class="product-stock ${stockClass} bn">
                            <i class="fas fa-box"></i> ${stockText}
                        </div>
                    </div>
                    
                    <h3 class="product-title bn">${product.name}</h3>
                    <div class="product-price bn">‡ß≥ ${product.price}</div>
                    
                    ${product.description ? `<p class="bn" style="color: rgba(240, 248, 255, 0.7); margin-bottom: 20px; font-size: 0.95rem;">${product.description}</p>` : ''}
                    
                    <div class="product-actions">
                        <button class="btn btn-primary btn-small bn" onclick="viewProduct('${product.id}')">
                            <i class="fas fa-eye"></i> ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§
                        </button>
                        <button class="btn btn-secondary btn-small bn" onclick="buyProduct('${product.id}')" ${product.stock === 0 ? 'disabled style="opacity: 0.6;"' : ''}>
                            <i class="fas fa-cart-plus"></i> ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
                        </button>
                    </div>
                `;
                
                container.appendChild(productCard);
            });
        }
        
        // Render Admin Products
        function renderAdminProducts(products, container) {
            container.innerHTML = '';
            
            if (products.length === 0) {
                container.innerHTML = '<div class="loading bn">‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø</div>';
                return;
            }
            
            products.forEach(product => {
                const stockClass = product.stock === 0 ? 'stock-out' : 
                                 product.stock <= 5 ? 'stock-low' : 'stock-high';
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-header">
                        <div class="product-badge bn">${getTypeName(product.type)}</div>
                        <div class="product-stock ${stockClass} bn">
                            <i class="fas fa-box"></i> ‡¶∏‡ßç‡¶ü‡¶ï: ${product.stock} ‡¶ü‡¶ø
                        </div>
                    </div>
                    
                    <h3 class="product-title bn">${product.name}</h3>
                    <div class="product-price bn">‡ß≥ ${product.price}</div>
                    
                    ${product.description ? `<p class="bn" style="color: rgba(240, 248, 255, 0.7); margin-bottom: 20px; font-size: 0.95rem;">${product.description}</p>` : ''}
                    
                    <div class="product-actions">
                        <button class="btn btn-primary btn-small bn" onclick="editProduct('${product.id}')">
                            <i class="fas fa-edit"></i> ‡¶è‡¶°‡¶ø‡¶ü
                        </button>
                        <button class="btn btn-secondary btn-small bn" onclick="deleteProduct('${product.id}')">
                            <i class="fas fa-trash"></i> ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü
                        </button>
                    </div>
                `;
                
                container.appendChild(productCard);
            });
        }
        
        // Helper functions
        function getTypeName(type) {
            const types = {
                'streaming': '‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ç',
                'vpn': '‡¶≠‡¶ø‡¶™‡¶ø‡¶è‡¶®',
                'email': '‡¶á‡¶Æ‡ßá‡¶á‡¶≤',
                'crypto': '‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã',
                'software': '‡¶∏‡¶´‡¶ü‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞',
                'other': '‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø'
            };
            
            return types[type] || type;
        }
        
        // Product Actions (global functions for onclick)
        window.viewProduct = function(id) {
            // Find product and show details
            db.collection('products').doc(id).get().then(doc => {
                if (doc.exists) {
                    const product = doc.data();
                    showNotification(`${product.name} - ‡ß≥${product.price}\n‡¶∏‡ßç‡¶ü‡¶ï: ${product.stock} ‡¶ü‡¶ø`, 'info');
                }
            }).catch(() => {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ!', 'error');
            });
        };
        
        window.buyProduct = function(id) {
            if (!currentUser) {
                showNotification('‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶§‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!', 'error');
                authModal.classList.add('active');
                return;
            }
            
            db.collection('products').doc(id).get().then(doc => {
                if (doc.exists) {
                    const product = doc.data();
                    if (product.stock <= 0) {
                        showNotification('‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶á ‡¶™‡¶£‡ßç‡¶Ø‡¶ü‡¶ø ‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ü‡¶â‡¶ü!', 'error');
                        return;
                    }
                    
                    // Create order
                    db.collection('orders').add({
                        productId: id,
                        productName: product.name,
                        price: product.price,
                        userId: currentUser.uid,
                        userName: userName.textContent,
                        status: 'pending',
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    }).then(() => {
                        // Update stock
                        db.collection('products').doc(id).update({
                            stock: product.stock - 1
                        });
                        
                        showNotification(`‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ: ${product.name}\n‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø: ‡ß≥${product.price}`, 'success');
                        loadProducts();
                    });
                }
            }).catch(error => {
                showNotification('‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            });
        };
        
        window.deleteProduct = async function(id) {
            if (!isAdmin) {
                showNotification('‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶∞‡¶æ ‡¶™‡¶£‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®!', 'error');
                return;
            }
            
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶è‡¶á ‡¶™‡¶£‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                try {
                    await db.collection('products').doc(id).delete();
                    loadAdminProducts();
                    loadProducts();
                    showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
                } catch (error) {
                    showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
                }
            }
        };
        
        window.editProduct = async function(id) {
            if (!isAdmin) {
                showNotification('‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶∞‡¶æ ‡¶™‡¶£‡ßç‡¶Ø ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®!', 'error');
                return;
            }
            
            try {
                const doc = await db.collection('products').doc(id).get();
                if (doc.exists) {
                    const product = doc.data();
                    
                    // Fill form with product data
                    document.getElementById('productName').value = product.name || '';
                    document.getElementById('productPrice').value = product.price || 0;
                    document.getElementById('productStock').value = product.stock || 0;
                    document.getElementById('productType').value = product.type || 'other';
                    document.getElementById('productDescription').value = product.description || '';
                    document.getElementById('productImage').value = product.image || '';
                    
                    // Show image preview
                    if (product.image) {
                        previewImage.src = product.image;
                        imagePreview.style.display = 'block';
                    }
                    
                    // Scroll to form
                    document.querySelector('.admin-form').scrollIntoView({ behavior: 'smooth' });
                    
                    // Change form to update mode
                    const submitBtn = document.querySelector('#addProductForm button[type="submit"]');
                    submitBtn.innerHTML = '<i class="fas fa-save"></i><span class="bn">‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</span>';
                    
                    // Remove old event listener and add update listener
                    const form = document.getElementById('addProductForm');
                    const newForm = form.cloneNode(true);
                    form.parentNode.replaceChild(newForm, form);
                    
                    newForm.addEventListener('submit', async function(e) {
                        e.preventDefault();
                        
                        const updatedData = {
                            name: document.getElementById('productName').value,
                            price: parseInt(document.getElementById('productPrice').value),
                            stock: parseInt(document.getElementById('productStock').value),
                            type: document.getElementById('productType').value,
                            description: document.getElementById('productDescription').value,
                            image: document.getElementById('productImage').value,
                            updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                        };
                        
                        try {
                            await db.collection('products').doc(id).update(updatedData);
                            showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!', 'success');
                            loadAdminProducts();
                            loadProducts();
                            
                            // Reset form
                            newForm.reset();
                            imagePreview.style.display = 'none';
                            
                            // Change button back to add mode
                            const submitBtn = document.querySelector('#addProductForm button[type="submit"]');
                            submitBtn.innerHTML = '<i class="fas fa-plus"></i><span class="bn">‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</span>';
                        } catch (error) {
                            showNotification('‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
                        }
                    });
                    
                    showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶°‡ßá ‡¶Ü‡¶õ‡ßá‡•§ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'info');
                }
            } catch (error) {
                showNotification('‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
        };
        
        // Initial load
        loadProducts();
    </script>
</body>
</html>
